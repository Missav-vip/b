<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pilih Server dan Satelit</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #111;
            color: #fff;
            text-align: center;
            padding: 50px;
            margin: 0;
        }
        .warning {
            background-color: #f44336;
            color: white;
            padding: 20px;
            border-radius: 5px;
            margin-top: 20px;
            font-size: 1.5em;
        }
        .success {
            background-color: #4CAF50;
            color: white;
            padding: 20px;
            border-radius: 5px;
            margin-top: 20px;
            font-size: 1.5em;
        }
        .vpn-warning {
            background-color: #ff9800;
            color: white;
            padding: 20px;
            border-radius: 5px;
            margin-top: 20px;
            font-size: 1.5em;
        }
        .countdown {
            font-size: 2em;
            margin-top: 20px;
            color: yellow;
        }
    </style>
</head>
<body>

    <h1>Selamat Datang!</h1>
    <p>Untuk melanjutkan, pilih Server dan Satelit yang sesuai dengan lokasi Anda:</p>

    <!-- Dropdown untuk memilih satelit -->
    <label for="satellite">Pilih Satelit:</label>
    <select id="satellite" name="satellite">
        <option value="alpha_satelite">Alpha Satelit</option>
        <option value="beta_satelite">Beta Satelit</option>
        <option value="gamma_satelite">Gamma Satelit</option>
    </select>
    
    <br><br>
    
    <!-- Dropdown untuk memilih server -->
    <label for="server">Pilih Server:</label>
    <select id="server" name="server">
        <option value="server_1">Server 1</option>
        <option value="server_2">Server 2</option>
        <option value="server_3">Server 3</option>
    </select>

    <br><br>
    <button onclick="submitSelection()">Submit</button>

    <div id="message"></div>
    <div id="countdown" class="countdown"></div>
    
    <script>
        // Daftar server dan satelit yang Anda tentukan
        const satelliteRegions = {
            alpha_satelite: { lat: -6.2088, lon: 106.8456, server: 'Server 1' },
            beta_satelite: { lat: 40.7128, lon: -74.0060, server: 'Server 2' },
            gamma_satelite: { lat: 51.5074, lon: -0.1278, server: 'Server 3' }
        };

        // Fungsi untuk memilih server dan satelit
        function submitSelection() {
            const selectedSatellite = document.getElementById("satellite").value;
            const selectedServer = document.getElementById("server").value;
            
            const region = satelliteRegions[selectedSatellite];
            
            if (region) {
                // Menampilkan informasi server yang dipilih
                document.getElementById("message").innerHTML = "<div class='success'>Satelit: " + selectedSatellite.replace("_", " ") + " dipilih. Server yang dipilih: " + selectedServer + "</div>";
                document.getElementById("countdown").innerHTML = "Menunggu verifikasi lokasi dan pengaturan server...";
                startCountdown();
            } else {
                document.getElementById("message").innerHTML = "<div class='warning'>Lokasi satelit tidak terverifikasi.</div>";
            }
        }

        // Fungsi countdown untuk menunggu 1 menit sebelum melanjutkan
        let countdownTimer;
        let timeLeft = 60;

        function startCountdown() {
            countdownTimer = setInterval(function() {
                document.getElementById("countdown").innerHTML = "Waktu untuk melanjutkan: " + timeLeft + " detik";
                timeLeft--;
                if (timeLeft <= 0) {
                    clearInterval(countdownTimer);
                    document.getElementById("countdown").innerHTML = "Waktu habis. Halaman akan melanjutkan otomatis.";
                    // Aksi otomatis setelah countdown habis
                    // Misalnya, alihkan ke halaman lain atau aktifkan tombol "Lanjut"
                }
            }, 1000);
        }

        // Fungsi untuk mendeteksi apakah pengguna menggunakan VPN
        function detectVPN() {
            const vpnDetected = navigator.connection || navigator.webkitConnection;

            if (vpnDetected) {
                document.getElementById("message").innerHTML = "<div class='vpn-warning'>VPN terdeteksi. Anda tidak dapat melanjutkan dengan VPN aktif.</div>";
                stopCountdown();
                disablePageAccess();
            }
        }

        // Fungsi untuk menonaktifkan akses halaman jika VPN terdeteksi
        function disablePageAccess() {
            document.body.style.pointerEvents = "none"; // Menonaktifkan semua interaksi halaman
            document.getElementById("message").innerHTML += "<div class='warning'>Silakan matikan VPN untuk melanjutkan.</div>";
        }

        // Fungsi untuk menghentikan countdown
        function stopCountdown() {
            clearInterval(countdownTimer);
            document.getElementById("countdown").innerHTML = "Waktu berhenti. VPN terdeteksi.";
        }

        // Menjalankan fungsi untuk meminta izin lokasi pengguna dan mendeteksi VPN saat halaman dimuat
        window.onload = function() {
            detectVPN();
        };
    </script>

</body>
</html>

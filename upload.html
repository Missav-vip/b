<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unggah Latar Belakang - Shell</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="upload-container">
        <h2>Pilih Video atau Gambar Latar Belakang</h2>
        <form id="uploadForm">
            <input type="file" accept="image/*,video/*" id="fileInput" required>
            <button type="submit">Unggah</button>
        </form>
        <button onclick="removeBackground()">Hapus Latar Belakang</button>
        <p id="message"></p>
    </div>

    <script>
        // Set latar belakang hitam secara default
        document.body.style.backgroundColor = "black";

        // Event listener untuk upload file (baik gambar maupun video)
        document.getElementById("uploadForm").addEventListener("submit", function(event) {
            event.preventDefault();
            const fileInput = document.getElementById("fileInput");
            const file = fileInput.files[0];

            if (file) {
                const fileURL = URL.createObjectURL(file);

                if (file.type.startsWith("image/")) {
                    // Jika file adalah gambar
                    const img = new Image();
                    img.src = fileURL;
                    img.onload = function() {
                        if (img.width < 800 || img.height < 600) {
                            document.getElementById("message").textContent = "Gambar terlalu kecil, silakan pilih gambar yang lebih besar.";
                        } else {
                            document.body.style.backgroundImage = `url(${img.src})`;
                            document.body.style.backgroundSize = "cover";
                            document.body.style.backgroundPosition = "center";
                            document.body.style.backgroundAttachment = "fixed"; // Mencegah scroll
                            document.body.style.overflow = "hidden";
                            document.getElementById("message").textContent = "Gambar berhasil diunggah!";
                        }
                    };
                } else if (file.type.startsWith("video/")) {
                    // Jika file adalah video
                    const videoElement = document.createElement("video");
                    videoElement.src = fileURL;
                    videoElement.autoplay = true;
                    videoElement.loop = true;
                    videoElement.muted = true;
                    videoElement.style.position = "absolute";
                    videoElement.style.top = "0";
                    videoElement.style.left = "0";
                    videoElement.style.width = "100%";
                    videoElement.style.height = "100%";
                    videoElement.style.zIndex = "-1"; // Agar video berada di bawah konten lainnya
                    document.body.appendChild(videoElement);
                    document.body.style.overflow = "hidden"; // Mengunci scroll
                    document.getElementById("message").textContent = "Video berhasil diunggah!";
                }
            }
        });

        // Fungsi untuk menghapus latar belakang
        function removeBackground() {
            document.body.style.backgroundImage = ""; // Menghapus gambar latar belakang
            const videoElements = document.querySelectorAll("video");
            videoElements.forEach(video => video.remove()); // Menghapus video latar belakang
            document.body.style.backgroundColor = "black"; // Mengembalikan ke latar belakang hitam
            document.body.style.overflow = "auto"; // Mengizinkan scroll jika diperlukan
            document.getElementById("message").textContent = "Latar belakang berhasil dihapus!";
        }
    </script>
</body>
</html>
